<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>API gateway</title>
    <link rel="stylesheet" type="text/css" href="style.css">
</head>
<body>
<h1>API gateway for the iQAS platform</h1>

<p> Welcome on the homepage of the API gateway. <br/>
    This API allows you to interact with the iQAS platform in order to subscribe to high-quality sensor observations.
</p>

<h2>GET endpoints</h2>

<table width="100%">
    <tr>
        <th>Sensors</th>
        <th>Requests</th>
        <th>Places</th>
        <th>Topics</th>
        <th>Pipelines</th>
    </tr>
    <tr>
        <td width="20%">
            <ul>
                <li><a href="/sensors">/sensors</a></li>
                <li>/sensors/[sensor_id]</li>
            </ul>
        </td>
        <td width="20%">
            <ul>
                <li><a href="/requests">/requests</a></li>
                <li>/requests/[request_id]</li>
            </ul>
        </td>
        <td width="20%">
            <ul>
                <li><a href="/places">/places</a></li>
                <li>/places?nearTo=[location]</li>
            </ul>
        </td>
        <td width="20%">
            <ul>
                <li><a href="/topics">/topics</a></li>
                <li>/topics/[topic_URI]</li>
            </ul>
        </td>
        <td width="20%">
            <ul>
                <li><a href="/pipelines">/pipelines</a></li>
                <li>/pipelines/[pipeline_id]</li>
                <li><a href="/pipelines?print=ids">/pipelines?print=ids</a></li>
            </ul>
        </td>
    </tr>
</table>

<h2>POST endpoints</h2>
<ul>
    <li>/requests</li>
</ul>

For submitting a new iQAS request, the format is the following (all parameters are mandatory):<br/>
<div style="margin-left: 30px;" class="code">
    Content-Type: application/json<br/>
    {<br/>
    <div style="margin-left: 30px;">
        "request_id": "",<br/>
        "application_id": "[application_id]"<br/>
        "topic": [topic] / "ALL"<br/>
        "location": [location] / "ALL"<br/>
        "qoo": (see below)<br/>
    </div>
    }
</div>

<br/>

<table width="100%">
    <tr>
        <th colspan="2">Quality of Observation (QoO)</th>
    </tr>
    <tr>
        <td width="50%">
            Format of a "QoO Service Level Agreement" for an iQAS request:
            <div style="margin-left: 30px;" class="code">
                "qoo": {<br/>
                <div style="margin-left: 30px;">
                    "interested_in": [QoO_attributes_list]<br/>
                    "additional_params": {<br/>
                    <div style="margin-left: 30px;">
                        "[additional_param_name]": "[additional_param_value]",<br/>
                        <div style="margin-left: 30px;">
                            ...
                        </div>
                    </div>
                    }<br/>
                    "sla_level": "BEST_EFFORT" / "GUARANTEED"<br/>
                    "operator": "NONE" / "AVG" / "MIN" / "MAX"<br/>
                </div>
                }
            </div>
        </td>
        <td width="50%">
            Details:
            <ul>
                <li><span class="code">interested_in</span> contains an ordered list
                    (first=very important, last=less important) of QoO attributes that matter for the given application.
                    See <a href="/qoo/attributes">/qoo/attributes</a> for the current supported QoO attributes.</li> <br/>
                <li><span class="code">additional_params</span> can be used to specify additional QoO requirements.
                    Visit <a href="/qoo/parameters">/qoo/parameters</a> to see what parameters can be customized.</li>
            </ul>
        </td>
    </tr>
</table>

<h2>DELETE endpoints</h2>
<ul>
    <li>/requests/[request_id]</li>
</ul>

<hr/><br/>

<div>
    <span style="font-weight: bold">Successfully loaded QoO pipelines:</span>
    <ul id="qoo_pipeline_list">
        <!-- Here go the result of the jQuery request to display the successfully loaded QoO pipelines -->
    </ul>
</div>

<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
<script type="text/javascript" src="script.js"></script>
</body>
</html>